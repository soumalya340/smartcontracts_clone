# A GUIDE TO CONTRACT

## **SignatureSeries**

_{ERC721} token, including:

 - ability for holders to burn (destroy) their tokens
 - a creator role that allows for token minting (creation)
 - a pauser role that allows to stop all token transfers
 - token ID and URI autogeneration
 - ability for holders to give for rent

This contract uses {AccessControl} to lock permissioned functions using the
different roles - head to its documentation for details.

The account that deploys the contract will be granted the creator and pauser
roles, as well as the default admin role, which will let it grant both creator
and pauser roles to other accounts._

### marketplace

```solidity
address marketplace
```

### RentableItems

```solidity
struct RentableItems {
  bool isRentable;
  address user;
  uint64 expires;
  uint256 hourlyRate;
}
```

### rentables

```solidity
mapping(uint256 => struct SignatureSeries.RentableItems) rentables
```

_storing the data of the user who are renting the NFT_

### flowRoles

```solidity
contract IACCESSMASTER flowRoles
```

### onlyOperator

```solidity
modifier onlyOperator()
```

### onlyCreator

```solidity
modifier onlyCreator()
```

### onlyAdmin

```solidity
modifier onlyAdmin()
```

### AssetCreated

```solidity
event AssetCreated(uint256 tokenID, address creator, string metaDataURI)
```

### AssetDestroyed

```solidity
event AssetDestroyed(uint256 tokenId, address ownerOrApproved)
```

### RentalInfo

```solidity
event RentalInfo(uint256 tokenId, bool isRentable, uint256 price, address renter)
```

### constructor

```solidity
constructor(string name, string symbol, address marketplaceAddress, address flowContract) public
```

_Grants `FLOW_ADMIN_ROLE`, `FLOW_CREATOR_ROLE` and `FLOW_OPERATOR_ROLE` to the
account that deploys the contract.

Token URIs will be autogenerated based on `baseURI` and their token IDs.
See {ERC721-tokenURI}._

### createAsset

```solidity
function createAsset(string metadataURI, uint96 royaltyPercentBasisPoint) public returns (uint256)
```

_Creates a new token for `to`. Its token ID will be automatically
assigned (and available on the emitted {IERC721-Transfer} event), and the token
URI autogenerated based on the base URI passed at construction.

See {ERC721-_safeMint}.

Requirements:

- the caller must have the `FLOW_CREATOR_ROLE`._

### delegateAssetCreation

```solidity
function delegateAssetCreation(address creator, string metadataURI, uint96 royaltyPercentBasisPoint) public returns (uint256)
```

_Creates a new token for `to`. Its token ID will be automatically
assigned (and available on the emitted {IERC721-Transfer} event), and the token
URI autogenerated based on the base URI passed at construction.

See {ERC721-_safeMint}.

Requirements:

- the caller must have the `FLOW_CREATOR_ROLE`._

### destroyAsset

```solidity
function destroyAsset(uint256 tokenId) public
```

Burns `tokenId`. See {ERC721-_burn}.

_Requirements:

- The caller must own `tokenId` or be an approved operator._

### _setTokenURI

```solidity
function _setTokenURI(uint256 tokenId, string _tokenURI) internal virtual
```

_Sets `_tokenURI` as the tokenURI of `tokenId`.

Requirements:

- `tokenId` must exist._

### withdraw

```solidity
function withdraw() external
```

only Admin can withdraw the funds collected

### setRentInfo

```solidity
function setRentInfo(uint256 tokenId, bool isRentable, uint256 pricePerHour) public
```

Owner can set the NFT's rental price and status

### setUser

```solidity
function setUser(uint256 tokenId, address user, uint64 expires) public
```

set the user and expires of an NFT

_This function is used to gift a person by the owner,
The zero address indicates there is no user
Throws if `tokenId` is not valid NFT_

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| tokenId | uint256 |  |
| user | address | The new user of the NFT |
| expires | uint64 | UNIX timestamp, The new user could use the NFT before expires |

### rent

```solidity
function rent(uint256 _tokenId, uint256 _timeInHours) external payable
```

to use for renting an item

_The zero address indicates there is no user
Throws if `tokenId` is not valid NFT,
time cannot be less than 1 hour or more than 6 months_

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| _tokenId | uint256 |  |
| _timeInHours | uint256 | is in hours , Ex- 1,2,3 |

### userOf

```solidity
function userOf(uint256 tokenId) public view returns (address)
```

_IERC4907 implementation_

### tokenURI

```solidity
function tokenURI(uint256 tokenId) public view virtual returns (string)
```

_Returns the Uniform Resource Identifier (URI) for `tokenId` token._

### userExpires

```solidity
function userExpires(uint256 tokenId) public view returns (uint256)
```

_IERC4907 implementation_

### amountRequired

```solidity
function amountRequired(uint256 tokenId, uint256 time) public view returns (uint256 amount)
```

to calculate the amount of money required
to rent an item for a certain time

### _beforeTokenTransfer

```solidity
function _beforeTokenTransfer(address from, address to, uint256 tokenId, uint256 batchSize) internal virtual
```

### supportsInterface

```solidity
function supportsInterface(bytes4 interfaceId) public view virtual returns (bool)
```

_See {IERC165-supportsInterface}._